# -*- coding: utf-8 -*-


"""To decode e-mails sent in cyrillic through the UNIL tandems interface"""

import re

trans = {u'&#1081;': '\xd0\xb9', u'&#1101;': '\xd1\x8d', u'&#1098;': '\xd1\x8a', u'&#1059;': '\xd0\xa3', u'&#1096;': '\xd1\x88', u'&#1083;': '\xd0\xbb', u'&#1049;': '\xd0\x99', u'&#1070;': '\xd0\xae', u'&#1094;': '\xd1\x86', u'&#1092;': '\xd1\x84', u'&#1062;': '\xd0\xa6', u'&#1087;': '\xd0\xbf', u'&#1060;': '\xd0\xa4', u'&#1045;': '\xd0\x95', u'&#1072;': '\xd0\xb0', u'&#1074;': '\xd0\xb2', u'&#1053;': '\xd0\x9d', u'&#1090;': '\xd1\x82', u'&#1051;': '\xd0\x9b', u'&#1066;': '\xd0\xaa', u'&#1047;': '\xd0\x97', u'&#1064;': '\xd0\xa8', u'&#1041;': '\xd0\x91', u'&#1076;': '\xd0\xb4', u'&#1078;': '\xd0\xb6', u'&#1057;': '\xd0\xa1', u'&#1055;': '\xd0\x9f', u'&#1043;': '\xd0\x93', u'&#1068;': '\xd0\xac', u'&#1088;': '\xd1\x80', u'&#1100;': '\xd1\x8c', u'&#1099;': '\xd1\x8b', u'&#1080;': '\xd0\xb8', u'&#1082;': '\xd0\xba', u'&#1102;': '\xd1\x8e', u'&#1058;': '\xd0\xa2', u'&#1097;': '\xd1\x89', u'&#1085;': '\xd0\xbd', u'&#1095;': '\xd1\x87', u'&#1063;': '\xd0\xa7', u'&#1048;': '\xd0\x98', u'&#1086;': '\xd0\xbe', u'&#1071;': '\xd0\xaf', u'&#1073;': '\xd0\xb1', u'&#1052;': '\xd0\x9c', u'&#1093;': '\xd1\x85', u'&#1061;': '\xd0\xa5', u'&#1091;': '\xd1\x83', u'&#1067;': '\xd0\xab', u'&#1044;': '\xd0\x94', u'&#1103;': '\xd1\x8f', u'&#1046;': '\xd0\x96', u'&#1075;': '\xd0\xb3', u'&#1050;': '\xd0\x9a', u'&#1077;': '\xd0\xb5', u'&#1056;': '\xd0\xa0', u'&#1065;': '\xd0\xa9', u'&#1040;': '\xd0\x90', u'&#1042;': '\xd0\x92', u'&#1084;': '\xd0\xbc', u'&#1079;': '\xd0\xb7', u'&#1054;': '\xd0\x9e', u'&#1069;': '\xd0\xad', u'&#1089;': '\xd1\x81'}

text = """
&#1055;&#1088;&#1080;&#1074;&#1077;&#1090;!
&#1057;&#1087;&#1072;&#1089;&#1080;&#1073;&#1086; &#1086;&#1075;&#1088;&#1086;&#1084;&#1085;&#1086;&#1077; &#1079;&#1072; &#1090;&#1086;, &#1095;&#1090;&#1086; &#1086;&#1090;&#1082;&#1083;&#1080;&#1082;&#1085;&#1091;&#1083;&#1080;&#1089;&#1100;! &#1043;&#1076;&#1077; &#1080; &#1082;&#1086;&#1075;&#1076;&#1072; &#1084;&#1099; &#1084;&#1086;&#1078;&#1077;&#1084; &#1074;&#1089;&#1090;&#1088;&#1077;&#1090;&#1080;&#1090;&#1100;&#1089;&#1103;?
&#1057; &#1091;&#1074;&#1072;&#1078;&#1077;&#1085;&#1080;&#1077;&#1084;,
&#1070;&#1083;&#1080;&#1103;
"""

def repl(matchobj):
    char = matchobj.group(0)
    return trans.get(char,'')

translation = re.sub('&#[0-9]+;',repl,text)
print translation
